<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8">
		<title>youtube.js</title>
		<style>
			.player {
				height: 300px;
				width: 400px;
			}
		</style>
	</head>
	<body>
		<h1>youtube.js</h1>
		<div class="player js-player" data-youtube-videoid="2EEsa_pqGAs"></div>
		<div>
			<button class="js-play" disabled>Play</button>
			<button class="js-pause" disabled>Pause</button>
			<input class="js-progress" type="range" min="0" max="1" value="0" disabled />
			<span class="js-progressText">-:--</span>
			/
			<span class="js-durationText">-:--</span>
			<br />
			<label><input class="js-mute" type="checkbox" disabled>Mute</label>
			<input class="js-volume" type="range" min="0" max="100" value="0" disabled />
		</div>
		<script src="../youtube.js"></script>
		<script>
(function() {
	var elPlayer = document.querySelector('.js-player');
	var videoId = elPlayer.getAttribute('data-youtube-videoid');
	var elPlay = document.querySelector('.js-play');
	var elPause = document.querySelector('.js-pause');
	var elProgress = document.querySelector('.js-progress');
	var elProgressText = document.querySelector('.js-progressText');
	var elDurationText = document.querySelector('.js-durationText');
	var elMute = document.querySelector('.js-mute');
	var elVolume = document.querySelector('.js-volume');

	elProgressText.setTime = elDurationText.setTime = function(time) {
		var min = parseInt(time/60, 10);
		var sec = ('0' + parseInt(time%60, 10)).slice(-2);
		var text = min + ':' + sec;
		this.innerHTML = text;
	};

	var player = youtube({ el:elPlayer, id:videoId })
		.on('ready', function(event) {
			elPlay.disabled = true;
			elPause.disabled = false;
			elProgress.disabled = false;
			elMute.disabled = false;

			elProgress.max = player.duration;
			elProgress.value = player.currentTime;
			elProgressText.setTime(player.currentTime);
			elDurationText.setTime(player.duration);
			elVolume.checked = player.muted;
			elVolume.value = player.volume;
		})
		.on('play', function(event) {
			elPlay.disabled = true;
			elPause.disabled = false;
		})
		.on('progress', function(event) {
			elProgress.value = player.currentTime;
			elProgressText.setTime(player.currentTime);
		})
		.on('pause', function(event) {
			elPlay.disabled = false;
			elPause.disabled = true;
		})
		.on('end', function(event) {
			player.play();
		})
		.on('volumechange', function(event) {
			elMute.checked = player.muted;
			elVolume.value = player.volume;
		});

	elPlay.addEventListener('click', function(event) {
		player.play();
	});
	elPause.addEventListener('click', function(event) {
		player.pause();
	});
})();
		</script>
	</body>
</html>
